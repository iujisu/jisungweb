<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.jisungweb.relationships.member.mapper.MemberMapper">

		<select id="getUserSeq" resultType="string">
			SELECT USERSEQ.NEXTVAL FROM DUAL
		</select>

		<insert id="insertUser" parameterType="java.util.HashMap" >
		   	INSERT INTO TB_USER (
		    	USER_SEQ
				,USER_ID
				,USER_NAME
				,PHONE_NUMBER
				,USER_PASSWORD
				,USER_EMAIL
				,USER_KEY
				,CREA_DATA
			 )VALUES (
			   	${userSeq}
				,#{userId}	
				,#{userName} 
				,#{phoneNumber}
				,#{userPassword}
				,#{userEmail}
				,(SELECT TO_CHAR(SYSDATE, 'YYYYMMDD') || LPAD(${userSeq}, 10, 0) FROM DUAL)
				,SYSDATE
		   	)
		</insert>
	  

  
</mapper>